"use strict";exports.id=9800,exports.ids=[9800],exports.modules={9800:(e,t,i)=>{i.d(t,{Repulser:()=>r});var s=i(9167),l=i(8486);let o="repulse";class r extends s.L8{constructor(e,t){super(t),this._clickRepulse=()=>{let e=this.container,t=e.actualOptions.interactivity.modes.repulse;if(!t)return;let i=e.repulse??{particles:[]};if(i.finish||(i.count||(i.count=0),i.count++,i.count!==e.particles.count||(i.finish=!0)),i.clicking){let l=e.retina.repulseModeDistance;if(!l||l<0)return;let o=Math.pow(l/6,3),r=e.interactivity.mouse.clickPosition;if(void 0===r)return;let n=new s.Cd(r.x,r.y,o);for(let l of e.particles.quadTree.query(n,e=>this.isEnabled(e))){let{dx:e,dy:n,distance:c}=(0,s.oW)(r,l.position),a=c**2,p=-o*t.speed/a;if(a<=o){i.particles.push(l);let t=s.OW.create(e,n);t.length=p,l.velocity.setTo(t)}}}else if(!1===i.clicking){for(let e of i.particles)e.velocity.setTo(e.initialVelocity);i.particles=[]}},this._hoverRepulse=()=>{let e=this.container,t=e.interactivity.mouse.position,i=e.retina.repulseModeDistance;i&&!(i<0)&&t&&this._processRepulse(t,i,new s.Cd(t.x,t.y,i))},this._processRepulse=(e,t,i,l)=>{let o=this.container,r=o.particles.quadTree.query(i,e=>this.isEnabled(e)),n=o.actualOptions.interactivity.modes.repulse;if(!n)return;let{easing:c,speed:a,factor:p,maxSpeed:u}=n,d=(0,s._X)(c),f=(l?.speed??a)*p;for(let i of r){let{dx:l,dy:o,distance:r}=(0,s.oW)(i.position,e),n=(0,s.uZ)(d(1-r/t)*f,0,u),c=s.OW.create(r?l/r*n:f,r?o/r*n:f);i.position.addTo(c)}},this._singleSelectorRepulse=(e,t)=>{let i=this.container,l=i.actualOptions.interactivity.modes.repulse;if(!l)return;let o=document.querySelectorAll(e);o.length&&o.forEach(e=>{let o=i.retina.pixelRatio,r={x:(e.offsetLeft+.5*e.offsetWidth)*o,y:(e.offsetTop+.5*e.offsetHeight)*o},n=.5*e.offsetWidth*o,c="circle"===t.type?new s.Cd(r.x,r.y,n):new s.Ae(e.offsetLeft*o,e.offsetTop*o,e.offsetWidth*o,e.offsetHeight*o),a=l.divs,p=(0,s.iC)(a,e);this._processRepulse(r,n,c,p)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=e=>{let i=this.container.actualOptions.interactivity.modes.repulse;if(!i||e!==o)return;t.repulse||(t.repulse={particles:[]});let l=t.repulse;for(let e of(l.clicking=!0,l.count=0,t.repulse.particles))this.isEnabled(e)&&e.velocity.setTo(e.initialVelocity);l.particles=[],l.finish=!1,setTimeout(()=>{t.destroyed||(l.clicking=!1)},i.duration*s.X5)}}clear(){}init(){let e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){let e=this.container,t=e.actualOptions,i=e.interactivity.status===s.Wt,l=t.interactivity.events,r=l.onHover,n=r.enable,c=r.mode,a=l.onClick,p=a.enable,u=a.mode,d=l.onDiv;i&&n&&(0,s.dB)(o,c)?this._hoverRepulse():p&&(0,s.dB)(o,u)?this._clickRepulse():(0,s.XD)(o,d,(e,t)=>this._singleSelectorRepulse(e,t))}isEnabled(e){let t=this.container,i=t.actualOptions,l=t.interactivity.mouse,r=(e?.interactivity??i.interactivity).events,n=r.onDiv,c=r.onHover,a=r.onClick,p=(0,s.wm)(o,n);if(!(p||c.enable&&l.position||a.enable&&l.clickPosition))return!1;let u=c.mode,d=a.mode;return(0,s.dB)(o,u)||(0,s.dB)(o,d)||p}loadModeOptions(e,...t){for(let i of(e.repulse||(e.repulse=new l.H),t))e.repulse.load(i?.repulse)}reset(){}}}};